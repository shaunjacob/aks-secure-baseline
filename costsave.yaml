$appgw = ""
$appgw = Get-azapplicationgateway -name apw-aks-cvrlft6jk6nj2
Start-AzApplicationGateway -ApplicationGateway $AppGw
Stop-AzApplicationGateway -ApplicationGateway $AppGw


$azfw = Get-AzFirewall -Name fw-eastus2-hub -ResourceGroupName rg-enterprise-networking-hubs
$vPublicIP = Get-AzPublicIpAddress -Name pip-fw-eastus2-default -ResourceGroupName rg-enterprise-networking-hubs
$vnet = Get-AzVirtualNetwork -ResourceGroupName rg-enterprise-networking-hubs -Name vnet-eastus2-hub
$azfw.Allocate($vnet,$vpublicip)
Set-AzFirewall -AzureFirewall $azfw


$azfw = Get-AzFirewall -Name fw-eastus2-hub -ResourceGroupName rg-enterprise-networking-hubs
$azfw.Deallocate()
Set-AzFirewall -AzureFirewall $azfw




Other bits
echo $APP_GATEWAY_LISTENER_CERTIFICATE
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


echo $AKS_INGRESS_CONTROLLER_CERTIFICATE_BASE64
LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURaVENDQWsyZ0F3SUJBZ0lVVExkZDJKOWk4ZG5YZVhjRFRINTlKaS8xQ21vd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1FqRWlNQ0FHQTFVRUF3d1pLaTVoYTNNdGFXNW5jbVZ6Y3k1amIyNTBiM052TG1OdmJURWNNQm9HQTFVRQpDZ3dUUTI5dWRHOXpieUJCYTNNZ1NXNW5jbVZ6Y3pBZUZ3MHlNREE1TVRZd05qSXhNRFZhRncweU1UQTVNVFl3Ck5qSXhNRFZhTUVJeElqQWdCZ05WQkFNTUdTb3VZV3R6TFdsdVozSmxjM011WTI5dWRHOXpieTVqYjIweEhEQWEKQmdOVkJBb01FME52Ym5SdmMyOGdRV3R6SUVsdVozSmxjM013Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQgpEd0F3Z2dFS0FvSUJBUUNYSm9NNDI3Y2gvMTNHbkFhQzQyMWlXY1g1Y3ppbXhrZjVyMitURTU3cGRwMWhFTkxSCkxmSnVjQ1g3dlFoYjRUd0FreGlUMjRYa0dxOHpxVURRelJoTGNIcWVmVmpIL3Q5QlBmTnNwdHUvakd5NFBoZWIKaWxPSVNISml2Ymc1cVZza252M2tMc21sVE9rZENjd2VrVHlIcERYZy9Nbnk4cGh4NStTcnBsV3cwVG5iUlFUagpoejVSNjI1Y1JNNzB5ZlpDWXZUV2owbU5GaHgwbm1uQzJsTThINm8rZGl6a0d1OU91SHlXRCtQWDNmV21OcllrCm82R1VzVmJWYjRoYW83T1owM2NBUG1BRVRaZkhvcjVMakQ4ditZL0lhWGdSWUJyNG0xYnRtK2wyc1VrNndhencKT3p6RWZpT2ZZOHpDRy9MV2c2Umt4RGQ3VVp3K3NBRHZhS2xOQWdNQkFBR2pVekJSTUIwR0ExVWREZ1FXQkJRWQorZmdmd3FxYk92T3B3c1IyV0d4OHAxbmR5ekFmQmdOVkhTTUVHREFXZ0JRWStmZ2Z3cXFiT3ZPcHdzUjJXR3g4CnAxbmR5ekFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUNHcnA3NlE0N0oKMTlKandZSVdXQTJvdlhSVS96QURtWWptRkVHN1o4YTMzdXYreWxSVGhGU0FNVVlmckNFUFpBbnJzWFRZRzZTYQpPVE1zbis1NVpoZnFoc1oxRW1oNkMyTFROZnlwTEFhQnV2WW15K0FnV0dtY1hqRTFZZy9rVFZ2bElCRTUxQ3pzCnpMQURYTWVYNjJOLzN0ZUpvYTdFRVozN0QrZDJEK0dQZGllM3AzRk81OEtZUXkrS0lNNjZORVdpVlgya2M3THgKYnFlYzV5d1NtRmp2TG9BeS81S2pXRzdzSnZUcTBVU2ZxMGZpZ1M3TUJvZlBoVkJXR2Q3WUhWdnFka1ZTOUlqSgpZZXZFVE1kSnR4M1hCRnNraG9sMXJUSW1tckVkMk5VOS9WaGozWmw3Y1FhQXUrVGxIZTRUWk9CTWFoeDJJMDhpCkQ2bWdTUklpMVVKUgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==


$TARGET_VNET_RESOURCE_ID
/subscriptions/b415de9f-3b82-4533-8637-f8899cc26583/resourceGroups/rg-enterprise-networking-spokes/providers/Microsoft.Network/virtualNetworks/vnet-hub-spoke-BU0001A0008-00

$K8S_RBAC_AAD_PROFILE_TENANTID
c6737eb9-d6e4-478c-851f-bfa25abce79f


$K8S_RBAC_AAD_PROFILE_ADMIN_GROUP_OBJECTID
27e8577e-0782-485c-bca1-2a96367e82ca